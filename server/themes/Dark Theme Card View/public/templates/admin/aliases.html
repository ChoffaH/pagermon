<div class="row" style="padding-top: 11px;">
</div>
<div ng-if="loading" class="loading"><i class="fa fa-spinner fa-spin"></i></div>
<div class="alert {{alertMessage.type}} alert-dismissable alert-fixed fade in" ng-if="alertMessage.show">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="alertMessage.show = false">&times;</button>
  <strong>{{alertMessage.text}}</strong>
</div>
<div class="row" style="padding-top: 10px">
  <div class="col-sm-6 col-xs-12">
          <h4 style="padding-left: 15px;"><a href="/admin/">Admin</a> / Aliases</div>

  <div class="col-xs-12">
          <hr />
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-filter"></i></span>
        <input id="search" type="text" class="form-control" name="search" placeholder="Filter" ng-model="search">
      </div>
    </div>
</div>

<div class="container-fluid disable-text-selection" style="background: #1e323f;padding-top:15px;">
  <!-- Dark Theme Card Template -->
    <div ng-repeat="alias in aliases | filter: search" class="row">
        <div class="col-12 list" data-check-all="checkAll">
            <div class="card d-flex flex-row mb-3" style="border-left: solid 5px {{alias.color || 'grey'}};">
                <div class="d-flex flex-grow-1 min-width-zero">
                    <div class="card-body align-self-center d-flex flex-column flex-md-row min-width-zero align-items-md-center" style="z-index: 0;">
                        <div class="pl-0 align-self-center d-flex flex-column flex-lg-row">
                          <div class="min-width-zero">
                              <span class="shrink" style="vertical-align: middle;margin-right: 10px;"><input type="checkbox" ng-model="alias.selected"/></span>
                          </div>
                        </div>
                        <div class="nomobile pl-0 align-self-center d-flex flex-column flex-lg-row">
                          <div class="min-width-zero">
                              <span class="shrink alias-card" ng-click="messageDetail(alias.id);">
                                <span style="font-family: monospace;"><strong>{{alias.id}}</strong></span>
                              </span>
                          </div>
                        </div>
                        <div class="pl-0 align-self-center d-flex flex-column flex-lg-row address-row" style="margin-right: 10px;">
                          <div class="min-width-zero">
                              <span class="shrink mini-capcode" style="color:#ffffff;" ng-click="messageDetail(alias.id);">
                                <span style="font-family: monospace;"><strong>{{alias.address}}</strong></span>
                              </span>
                          </div>
                        </div>
                        <div class="nomobile pl-0 align-self-center d-flex flex-column flex-lg-row">
                          <div class="min-width-zero">
                            <span class="shrink alias-color-back" style="background-color: {{alias.color || 'transparent'}};">
                              <span style="color: {{ alias.color ? 'white' : 'black' }};"><strong>{{alias.color}}</strong></span>
                            </span>
                          </div>
                        </div>
                        <div class="pl-0 align-self-center d-flex flex-column flex-lg-row">
                          <div class="min-width-zero">
                              <span class="shrink">
                                <span ng-if="alias.icon" class="fa-stack fa-lg fa-fw" style="color: {{alias.color || 'transparent'}};">
                                  <i class="fa fa-circle fa-stack-2x"></i>
                                  <i class="fa fa-{{alias.icon}} fa-stack-1x fa-inverse"></i>
                                </span>
                                <span style="vertical-align: middle;" class="nomobile">{{alias.icon}}</span>
                              </span>
                          </div>
                        </div>
                        <div class="pl-0 align-self-center min-width-zero" style="float:right; margin-left:auto;">
                          <div class="min-width-zero">
                            <span class="shrink alias-right"><strong>{{alias.agency || ''}}</strong></span>
                              <span class="alias-desc" ng-click="messageDetail(alias.id);" style="color: white;padding-right:10px">{{alias.alias || ''}}</span>
                              <span class="shrink"><i ng-if="alias.ignore == 0" class="fas fa-check-circle text-success"></i><i ng-if="alias.ignore == 1" class="fas fa-times-circle text-danger"></i></span>
                          </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>
  </div>
<div class="btn-group-vertical" id="buttons-functions">
  <button type="button" ng-click="aliasImport();" class="btn btn-success ">Import Aliases</button>
  <button type="button" ng-click="aliasExport();" class="btn btn-success ">Export Aliases</button>
</div>
<div class="btn-group-vertical" id="buttons-management">
  <button type="button" ng-disabled="!aliasSelected()" ng-click="aliasDelete()" class="btn btn-danger ">Delete Selected</button>
  <button ng-if="aliasRefreshRequired == 1" type="button" ng-click="aliasRefresh();" class="btn btn-warning ">Refresh Aliases</button>
  <button type="button" ng-click="messageDetail('new');" class="btn btn-success ">Add New</button>
</div>